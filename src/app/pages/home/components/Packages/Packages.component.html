<div class="section-landing">
  <div class="section-title">
    {{ "Packages" | translate }}
  </div>

  @if (loading){
  <div class="loading-spinner-container">
    <div class="loading-spinner"></div>
  </div>
  } @if (error){
  <div class="error-message"></div>
  } @if (!loading && !error){
  <swiper-container #packagesSwiper init="false">
    @for(package of packages;track package.id){
    <swiper-slide class="wm-swiper-slot">
      <a
        class="cursor-pointer"
        [routerLink]="[
          '/',
          baseService.currentLanguage,
          'package',
          package.id        ]"
      >
        <div class="box">
          <div
            class="discount-badge"
            *ngIf="
              getDiscountPercentage(package.priceBefore, package.price) > 0
            "
          >
            {{ getDiscountPercentage(package.priceBefore, package.price) }}%
            {{ "OFF" | translate }}
          </div>
          <div class="p-3">
            <div class="text-center image-package">
              <img
                [src]="imageUrl + package.image"
                alt="{{ package.nameEn }} Image"
                loading="lazy"
              />
            </div>
            <div class="my-3 text-center">
              <h3 class="service-name">
                {{
                  baseService.currentLanguage == "ar"
                    ? package.nameAr
                    : package.nameEn
                }}
              </h3>
            </div>
            <div class="text-center pricing">
              <p class="original-price p-1">
                {{ package.priceBefore }} {{ "SAR" | translate }}
              </p>
              <p class="discounted-price p-1">
                {{ package.price }} {{ "SAR" | translate }}
              </p>
            </div>
            <button class="btn WMbtn-primary w-100">
              {{ "Learn More" | translate }}
            </button>
          </div>
        </div>
      </a>
    </swiper-slide>
    }
  </swiper-container>

  <div class="d-flex justify-content-center align-items-center arrow">
    <div class="package-button-prev swiper-custom-button">
      <svg
        width="11"
        height="17"
        viewBox="0 0 11 17"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M1.22266 7.47656C0.765625 7.89844 0.765625 8.63672 1.22266 9.05859L7.97266 15.8086C8.39453 16.2656 9.13281 16.2656 9.55469 15.8086C10.0117 15.3867 10.0117 14.6484 9.55469 14.2266L3.61328 8.25L9.55469 2.30859C10.0117 1.88672 10.0117 1.14844 9.55469 0.726562C9.13281 0.269531 8.39453 0.269531 7.97266 0.726562L1.22266 7.47656Z"
          fill="#663190"
        />
      </svg>
    </div>
    <div class="package-button-next swiper-custom-button">
      <svg
        width="11"
        height="17"
        viewBox="0 0 11 17"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.76953 7.47656C10.2266 7.89844 10.2266 8.63672 9.76953 9.05859L3.01953 15.8086C2.59766 16.2656 1.85938 16.2656 1.4375 15.8086C0.980469 15.3867 0.980469 14.6484 1.4375 14.2266L7.37891 8.25L1.4375 2.30859C0.980469 1.88672 0.980469 1.14844 1.4375 0.726562C1.85938 0.269531 2.59766 0.269531 3.01953 0.726562L9.76953 7.47656Z"
          fill="#663190"
        />
      </svg>
    </div>
  </div>

  }
</div>
